{"version":3,"file":"main.js","mappings":"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","sources":["webpack://vatsim/./node_modules/geo-point-in-polygon/flat.js","webpack://vatsim/./node_modules/geo-point-in-polygon/index.js","webpack://vatsim/./node_modules/geo-point-in-polygon/nested.js","webpack://vatsim/./node_modules/gl-vec3/cross.js","webpack://vatsim/./node_modules/gl-vec3/normalize.js","webpack://vatsim/./node_modules/intersect-great-circle/index.js","webpack://vatsim/webpack/bootstrap","webpack://vatsim/webpack/runtime/compat get default export","webpack://vatsim/webpack/runtime/define property getters","webpack://vatsim/webpack/runtime/hasOwnProperty shorthand","webpack://vatsim/./core/vatsim-data.js","webpack://vatsim/./core/firboundary.js","webpack://vatsim/./pilotsWithinFir.js"],"sourcesContent":["var igc = require('intersect-great-circle')\nvar v0 = [0,0], v1 = [0,0], v2 = [0,0], v3 = [0,0], v4 = [0,0]\n\nmodule.exports = function geoPointInPolygon(point, P, start, end, outside) {\n  if (Array.isArray(start)) {\n    outside = start\n    start = 0\n  } else if (Array.isArray(end)) {\n    outside = end\n    end = P.length\n  }\n  var inside = false\n  if (start === undefined) start = 0\n  if (end === undefined) end = P.length\n  if (outside === undefined) {\n    v4[0] = (((P[start+0]+360)%360)+360)%360-180\n    v4[1] = -P[start+1]\n    outside = v4\n  }\n  v2[0] = point[0]\n  v2[1] = point[1]\n  var len = (end - start)/2\n  for (var i = 0, j = len - 1; i < len; j = i++) {\n    v0[0] = P[start+i*2+0]\n    v0[1] = P[start+i*2+1]\n    v1[0] = P[start+j*2+0]\n    v1[1] = P[start+j*2+1]\n    if (igc(v3,v0,v1,v2,outside)) {\n      inside = !inside\n    }\n  }\n  return inside\n}\n","var nested = require('./nested.js')\nvar flat = require('./flat.js')\n\nmodule.exports = function geoPointInPolygon(point, P, start, end, far) {\n  if (P.length > 0 && Array.isArray(P[0])) {\n    return nested(point, P, start, end, far)\n  } else {\n    return flat(point, P, start, end, far)\n  }\n}\n","var igc = require('intersect-great-circle')\nvar v0 = [0,0], v1 = [0,0], v2 = [0,0], v3 = [0,0], v4 = [0,0]\n\nmodule.exports = function geoPointInPolygon(point, P, start, end, outside) {\n  if (Array.isArray(start)) {\n    outside = start\n    start = 0\n  } else if (Array.isArray(end)) {\n    outside = end\n    end = P.length\n  }\n  var inside = false\n  if (start === undefined) start = 0\n  if (end === undefined) end = P.length\n  if (outside === undefined) {\n    v4[0] = (((P[start][0]+360)%360)+360)%360-180\n    v4[1] = -P[start][1]\n    outside = v4\n  }\n  v2[0] = point[0]\n  v2[1] = point[1]\n  var len = end - start\n  for (var i = 0, j = len - 1; i < len; j = i++) {\n    v0[0] = P[i+start][0]\n    v0[1] = P[i+start][1]\n    v1[0] = P[j+start][0]\n    v1[1] = P[j+start][1]\n    if (igc(v3,v0,v1,v2,outside)) {\n      inside = !inside\n    }\n  }\n  return inside\n}\n","module.exports = cross;\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n    var ax = a[0], ay = a[1], az = a[2],\n        bx = b[0], by = b[1], bz = b[2]\n\n    out[0] = ay * bz - az * by\n    out[1] = az * bx - ax * bz\n    out[2] = ax * by - ay * bx\n    return out\n}","module.exports = normalize;\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n    var x = a[0],\n        y = a[1],\n        z = a[2]\n    var len = x*x + y*y + z*z\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len)\n        out[0] = a[0] * len\n        out[1] = a[1] * len\n        out[2] = a[2] * len\n    }\n    return out\n}","// https://www.edwilliams.org/intersect.htm\nvar normalize = require('gl-vec3/normalize')\nvar cross = require('gl-vec3/cross')\nvar ea = [0,0,0], eb = [0,0,0]\nvar sol0 = [0,0], sol1 = [0,0]\nvar vout = [0,0], v0 = [0,0], v1 = [0,0]\n\nmodule.exports = function (out, p1, p2, p3, p4, e) {\n  if (e === undefined) e = 1e-8\n  var lon1 = -p1[0]/180*Math.PI, lat1 = p1[1]/180*Math.PI\n  var lon2 = -p2[0]/180*Math.PI, lat2 = p2[1]/180*Math.PI\n  var lon3 = -p3[0]/180*Math.PI, lat3 = p3[1]/180*Math.PI\n  var lon4 = -p4[0]/180*Math.PI, lat4 = p4[1]/180*Math.PI\n  scross(ea, lon1, lat1, lon2, lat2)\n  scross(eb, lon3, lat3, lon4, lat4)\n  normalize(ea, ea)\n  normalize(eb, eb)\n  cross(ea, ea, eb)\n  toLonLat(sol0, ea)\n  sol1[0] = sol0[0] - Math.sign(sol0[0])*180\n  sol1[1] = -sol0[1]\n\n  var h0 = Math.min(Math.abs(p1[0]-sol0[0]), Math.abs(p2[0]-sol0[0]))\n  var h1 = Math.min(Math.abs(p1[0]-sol1[0]), Math.abs(p2[0]-sol1[0]))\n  if (h0 <= h1) {\n    vout[0] = sol0[0]\n    vout[1] = sol0[1]\n  } else {\n    vout[0] = sol1[0]\n    vout[1] = sol1[1]\n  }\n\n  var dv1 = hdist(vout,p1), dv2 = hdist(vout,p2), d12 = hdist(p1,p2)\n  var dv3 = hdist(vout,p3), dv4 = hdist(vout,p4), d34 = hdist(p3,p4)\n  if (Math.max(dv1,dv2) > d12) return null\n  if (Math.max(dv3,dv4) > d34) return null\n  var m12 = Math.abs(p1[0]-p2[0]) > 180\n  var m34 = Math.abs(p3[0]-p4[0]) > 180\n  if (m12 && p1[0] > 0 && p2[0] < 0 && vout[0] + e < p1[0] && vout[0] > p2[0] + e) {\n    return null\n  } else if (m12 && p1[0] < 0 && p2[0] > 0 && vout[0] > p1[0] + e && vout[0] + e < p2[0]) {\n    return null\n  } else if (!m12 && vout[0] + e < Math.min(p1[0],p2[0])) {\n    return null\n  } else if (!m12 && vout[0] > Math.max(p1[0],p2[0]) + e) {\n    return null\n  } else if (m34 && p3[0] > 0 && p4[0] < 0 && vout[0] + e < p3[0] && vout[0] > p4[0] + e) {\n    return null\n  } else if (m34 && p3[0] < 0 && p4[0] > 0 && vout[0] > p3[0] + e && vout[0] + e < p4[0]) {\n    return null\n  } else if (!m34 && vout[0] + e < Math.min(p3[0],p4[0])) {\n    return null\n  } else if (!m34 && vout[0] > Math.max(p3[0],p4[0]) + e) {\n    return null\n  }\n  out[0] = vout[0]\n  out[1] = vout[1]\n  return out\n}\n\nfunction scross(out, ax, ay, bx, by) {\n  out[0] = Math.sin(ay-by) * Math.sin((ax+bx)/2) * Math.cos((ax-bx)/2)\n    - Math.sin(ay+by) * Math.cos((ax+bx)/2) * Math.sin((ax-bx)/2)\n  out[1] = Math.sin(ay-by) * Math.cos((ax+bx)/2) * Math.cos((ax-bx)/2)\n    + Math.sin(ay+by) * Math.sin((ax+bx)/2) * Math.sin((ax-bx)/2)\n  out[2] = Math.cos(ay)*Math.cos(by)*Math.sin(ax-bx)\n  return out\n}\n\nfunction toLonLat(out, p) {\n  var q = Math.sqrt(p[0]*p[0]+p[1]*p[1])\n  var lon = Math.atan2(p[1],p[0])*180/Math.PI\n  var lat = Math.atan2(p[2],q)*180/Math.PI\n  out[0] = lon\n  out[1] = lat\n  return out\n}\n\nfunction hdist(p1,p2) {\n  var lon1 = p1[0]/180*Math.PI, lat1 = p1[1]/180*Math.PI\n  var lon2 = p2[0]/180*Math.PI, lat2 = p2[1]/180*Math.PI\n  var sy = Math.sin((lat1-lat2)/2)\n  var sx = Math.sin((lon1-lon2)/2)\n  return 2*Math.asin(Math.sqrt(sy*sy + Math.cos(lat1)*Math.cos(lat2)*sx*sx))\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","//import fetch from 'node-fetch'\r\n\r\nconst VatsimDataURL = `${window.location.origin}/vatsim-data`\r\n\r\nexport default class VatsimData {\r\n  async preload() {\r\n    const req = await fetch(VatsimDataURL)\r\n    const data = await req.json()\r\n    return data\r\n  }\r\n\r\n  async getPilots() {\r\n    const data = await this.preload()\r\n\r\n    return data.pilots\r\n  }\r\n}\r\n","//import fetch from 'node-fetch'\r\n\r\nconst BoundURI = `${window.location.origin}/firboundaries`\r\n\r\nexport default class Firboundary {\r\n  async preload() {\r\n    const req = await fetch(BoundURI)\r\n    const data = await req.json()\r\n    return data\r\n  }\r\n\r\n  async getFir(name) {\r\n    const data = await this.preload()\r\n    const features = data.features\r\n\r\n    const fir = features.find( (el) => {\r\n      return el.properties.id == name\r\n    } )\r\n\r\n    return fir\r\n  }\r\n}\r\n","import pointInPoly from 'geo-point-in-polygon'\r\nimport VatsimData from './core/vatsim-data.js'\r\nimport Firboundary from './core/firboundary.js'\r\n\r\ncustomElements.define('pilots-within-fir', class PilotsWithinFir extends HTMLElement {\r\n  constructor() {\r\n    super()\r\n\r\n    this.vatsimData = new VatsimData()\r\n    this.firData = new Firboundary()\r\n    this.pilots = []\r\n  }\r\n\r\n  async connectedCallback() {\r\n    const fir = await this.firData.getFir(\"KZJX\")\r\n    const polygon = fir.geometry.coordinates[0][0]\r\n    const pilots = await this.vatsimData.getPilots()\r\n    const zjxPilots = pilots.filter( p => {\r\n      const pLong = p.longitude\r\n      const pLat = p.latitude\r\n\r\n      return pointInPoly([pLong, pLat], polygon)\r\n    } )\r\n\r\n    this.pilots = zjxPilots\r\n\r\n    this.innerHTML = `\r\n    <div class=\"pilots-within-fir_main\">\r\n    ${this.pilots.map( (pilot) => {\r\n      return `\r\n        <div class=\"pilots-within-fir_row\">\r\n            <div class=\"pilots-within-fir_callsign\"><div class=\"label\">Callsign:</div><div class=\"value\">${pilot.callsign}</div></div>\r\n            <div class=\"pilots-within-fir_name\"><div class=\"label\">Name:</div><div class=\"value\">${pilot.name}</div></div>\r\n            <div class=\"pilots-within-fir_altitude\"><div class=\"label\">Altitude:</div><div class=\"value\">${pilot.altitude}</div></div>\r\n            <div class=\"pilots-within-fir_groundspeed\"><div class=\"label\">Ground speed:</div><div class=\"value\">${pilot.groundspeed}</div></div>\r\n            <div class=\"pilots-within-fir_transponder\"><div class=\"label\">Transponder:</div><div class=\"value\">${pilot.transponder}</div></div>\r\n        </div>\r\n      `\r\n    }).join(\"\")}\r\n    </div>\r\n    `\r\n  }\r\n\r\n  disconnectedCallback() {\r\n  }\r\n\r\n})\r\n"],"names":["igc","v0","v1","v2","v3","v4","module","exports","point","P","start","end","outside","Array","isArray","length","inside","undefined","len","i","j","nested","flat","far","out","a","b","ax","ay","az","bx","by","bz","x","y","z","Math","sqrt","normalize","cross","ea","eb","sol0","sol1","vout","scross","sin","cos","hdist","p1","p2","lon1","PI","lat1","lon2","lat2","sy","sx","asin","p3","p4","e","lon3","lat3","lon4","lat4","p","q","lon","atan2","lat","toLonLat","sign","min","abs","dv1","dv2","d12","dv3","dv4","d34","max","m12","m34","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","VatsimDataURL","window","location","origin","VatsimData","async","req","fetch","json","this","preload","pilots","BoundURI","Firboundary","name","features","find","el","properties","id","customElements","define","HTMLElement","constructor","super","vatsimData","firData","polygon","getFir","geometry","coordinates","zjxPilots","getPilots","filter","pLong","longitude","pLat","latitude","innerHTML","map","pilot","callsign","altitude","groundspeed","transponder","join","disconnectedCallback"],"sourceRoot":""}