(()=>{var t={432:(t,a,i)=>{var s=i(39),n=[0,0],r=[0,0],e=[0,0],o=[0,0],l=[0,0];t.exports=function(t,a,i,h,d){Array.isArray(i)?(d=i,i=0):Array.isArray(h)&&(d=h,h=a.length);var v=!1;void 0===i&&(i=0),void 0===h&&(h=a.length),void 0===d&&(l[0]=((a[i+0]+360)%360+360)%360-180,l[1]=-a[i+1],d=l),e[0]=t[0],e[1]=t[1];for(var c=(h-i)/2,M=0,u=c-1;M<c;u=M++)n[0]=a[i+2*M+0],n[1]=a[i+2*M+1],r[0]=a[i+2*u+0],r[1]=a[i+2*u+1],s(o,n,r,e,d)&&(v=!v);return v}},243:(t,a,i)=>{var s=i(155),n=i(432);t.exports=function(t,a,i,r,e){return a.length>0&&Array.isArray(a[0])?s(t,a,i,r,e):n(t,a,i,r,e)}},155:(t,a,i)=>{var s=i(39),n=[0,0],r=[0,0],e=[0,0],o=[0,0],l=[0,0];t.exports=function(t,a,i,h,d){Array.isArray(i)?(d=i,i=0):Array.isArray(h)&&(d=h,h=a.length);var v=!1;void 0===i&&(i=0),void 0===h&&(h=a.length),void 0===d&&(l[0]=((a[i][0]+360)%360+360)%360-180,l[1]=-a[i][1],d=l),e[0]=t[0],e[1]=t[1];for(var c=h-i,M=0,u=c-1;M<c;u=M++)n[0]=a[M+i][0],n[1]=a[M+i][1],r[0]=a[u+i][0],r[1]=a[u+i][1],s(o,n,r,e,d)&&(v=!v);return v}},858:t=>{t.exports=function(t,a,i){var s=a[0],n=a[1],r=a[2],e=i[0],o=i[1],l=i[2];return t[0]=n*l-r*o,t[1]=r*e-s*l,t[2]=s*o-n*e,t}},91:t=>{t.exports=function(t,a){var i=a[0],s=a[1],n=a[2],r=i*i+s*s+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r),t}},39:(t,a,i)=>{var s=i(91),n=i(858),r=[0,0,0],e=[0,0,0],o=[0,0],l=[0,0],h=[0,0];function d(t,a,i,s,n){return t[0]=Math.sin(i-n)*Math.sin((a+s)/2)*Math.cos((a-s)/2)-Math.sin(i+n)*Math.cos((a+s)/2)*Math.sin((a-s)/2),t[1]=Math.sin(i-n)*Math.cos((a+s)/2)*Math.cos((a-s)/2)+Math.sin(i+n)*Math.sin((a+s)/2)*Math.sin((a-s)/2),t[2]=Math.cos(i)*Math.cos(n)*Math.sin(a-s),t}function v(t,a){var i=t[0]/180*Math.PI,s=t[1]/180*Math.PI,n=a[0]/180*Math.PI,r=a[1]/180*Math.PI,e=Math.sin((s-r)/2),o=Math.sin((i-n)/2);return 2*Math.asin(Math.sqrt(e*e+Math.cos(s)*Math.cos(r)*o*o))}t.exports=function(t,a,i,c,M,u){void 0===u&&(u=1e-8);var p=-a[0]/180*Math.PI,f=a[1]/180*Math.PI,w=-i[0]/180*Math.PI,m=i[1]/180*Math.PI,g=-c[0]/180*Math.PI,y=c[1]/180*Math.PI,P=-M[0]/180*Math.PI,b=M[1]/180*Math.PI;d(r,p,f,w,m),d(e,g,y,P,b),s(r,r),s(e,e),n(r,r,e),function(t,a){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=180*Math.atan2(a[1],a[0])/Math.PI,n=180*Math.atan2(a[2],i)/Math.PI;t[0]=s,t[1]=n}(o,r),l[0]=o[0]-180*Math.sign(o[0]),l[1]=-o[1],Math.min(Math.abs(a[0]-o[0]),Math.abs(i[0]-o[0]))<=Math.min(Math.abs(a[0]-l[0]),Math.abs(i[0]-l[0]))?(h[0]=o[0],h[1]=o[1]):(h[0]=l[0],h[1]=l[1]);var x=v(h,a),I=v(h,i),A=v(a,i),_=v(h,c),$=v(h,M),j=v(c,M);if(Math.max(x,I)>A)return null;if(Math.max(_,$)>j)return null;var D=Math.abs(a[0]-i[0])>180,q=Math.abs(c[0]-M[0])>180;return D&&a[0]>0&&i[0]<0&&h[0]+u<a[0]&&h[0]>i[0]+u||D&&a[0]<0&&i[0]>0&&h[0]>a[0]+u&&h[0]+u<i[0]||!D&&h[0]+u<Math.min(a[0],i[0])||!D&&h[0]>Math.max(a[0],i[0])+u||q&&c[0]>0&&M[0]<0&&h[0]+u<c[0]&&h[0]>M[0]+u||q&&c[0]<0&&M[0]>0&&h[0]>c[0]+u&&h[0]+u<M[0]||!q&&h[0]+u<Math.min(c[0],M[0])||!q&&h[0]>Math.max(c[0],M[0])+u?null:(t[0]=h[0],t[1]=h[1],t)}}},a={};function i(s){var n=a[s];if(void 0!==n)return n.exports;var r=a[s]={exports:{}};return t[s](r,r.exports,i),r.exports}i.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return i.d(a,{a}),a},i.d=(t,a)=>{for(var s in a)i.o(a,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},i.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),(()=>{"use strict";var t=i(243),a=i.n(t);const s=`${window.location.origin}/vatsim-data`;class n{async preload(){const t=await fetch(s);return await t.json()}async getPilots(){return(await this.preload()).pilots}}const r=`${window.location.origin}/firboundaries`;class e{async preload(){const t=await fetch(r);return await t.json()}async getFir(t){return(await this.preload()).features.find((a=>a.properties.id==t))}}customElements.define("pilots-within-fir",class extends HTMLElement{constructor(){super(),this.vatsimData=new n,this.firData=new e,this.pilots=[]}async connectedCallback(){const t=(await this.firData.getFir("KZJX")).geometry.coordinates[0][0],i=(await this.vatsimData.getPilots()).filter((i=>{const s=i.longitude,n=i.latitude;return a()([s,n],t)}));this.pilots=i,this.innerHTML=`\n    <div class="pilots-within-fir_main">\n    ${this.pilots.map((t=>`\n        <div class="pilots-within-fir_row">\n            <div class="pilots-within-fir_callsign"><div class="label">Callsign:</div><div class="value">${t.callsign}</div></div>\n            <div class="pilots-within-fir_name"><div class="label">Name:</div><div class="value">${t.name}</div></div>\n            <div class="pilots-within-fir_altitude"><div class="label">Altitude:</div><div class="value">${t.altitude}</div></div>\n            <div class="pilots-within-fir_groundspeed"><div class="label">Ground speed:</div><div class="value">${t.groundspeed}</div></div>\n            <div class="pilots-within-fir_transponder"><div class="label">Transponder:</div><div class="value">${t.transponder}</div></div>\n        </div>\n      `)).join("")}\n    </div>\n    `}disconnectedCallback(){}})})()})();
//# sourceMappingURL=main.js.map